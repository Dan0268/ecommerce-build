{"version":3,"sources":["components/ProductCard/ProductCard.module.scss","components/CartCard/CartCard.module.scss","containers/Home/Home.module.scss","containers/Product/Product.module.scss","containers/Cart/Cart.module.scss","firestore.js","services/products.js","components/VariantSelect/index.js","components/VariantSelect/VariantSelect.jsx","components/Counter/index.js","components/Counter/Counter.jsx","services/crud.js","components/ProductCard/index.js","components/ProductCard/ProductCard.jsx","containers/Home/index.js","containers/Home/Home.jsx","containers/Product/index.js","containers/Product/Product.jsx","containers/Header/index.js","containers/Header/Header.jsx","components/CartCard/index.js","components/CartCard/CartCard.jsx","containers/Cart/index.js","containers/Cart/Cart.jsx","App.js","reportWebVitals.js","index.js"],"names":["module","exports","firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","firestore","products","name","price","type","variants","variant","imgLink","seedProducts","a","prod","collection","get","size","promises","map","product","add","Promise","all","getProducts","col","queryData","documents","docs","doc","id","data","getProduct","ref","exists","VariantSelect","onChange","useState","newVariant","setNewVariant","useEffect","selection","target","value","item","Counter","count","setCount","decrement","e","increment","onClick","getRecord","updateCart","record","update","ProductCard","cartId","cartArr","setCartArr","productId","newQuantity","setNewQuantity","getCart","className","styles","to","Variants","Variant","src","alt","height","cartItem","quantity","sameItemIndex","findIndex","index","push","Home","setProducts","getData","Product","useParams","undefined","setProduct","console","log","Header","CartCard","newCartItem","splice","Cart","queryItem","productIndex","varIndex","queryIndex","variantIndex","App","exact","path","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.7cce5cce.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ProductCard\":\"ProductCard_ProductCard__3laxY\",\"Variants\":\"ProductCard_Variants__2HtO2\",\"Variant\":\"ProductCard_Variant__1p-oY\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"CartCard\":\"CartCard_CartCard__2_-bn\",\"Variants\":\"CartCard_Variants__2NbVp\",\"Variant\":\"CartCard_Variant__3GNr_\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Home\":\"Home_Home__3J1zE\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Product\":\"Product_Product__AspPs\",\"Variants\":\"Product_Variants__3aRAA\",\"Variant\":\"Product_Variant__1QodX\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Cart\":\"Cart_Cart__W56FN\"};","import firebase from 'firebase';\r\n\r\n// Your web app's Firebase configuration\r\nconst firebaseConfig = {\r\n    apiKey: \"AIzaSyAJkhpumDXBPGzVVN1YrZMEZK8Kl_DCGBQ\",\r\n    authDomain: \"react-ecommerce-1e532.firebaseapp.com\",\r\n    projectId: \"react-ecommerce-1e532\",\r\n    storageBucket: \"react-ecommerce-1e532.appspot.com\",\r\n    messagingSenderId: \"696381836280\",\r\n    appId: \"1:696381836280:web:e2e322905a943b128de40d\"\r\n  };\r\n  // Initialize Firebase\r\n  firebase.initializeApp(firebaseConfig);\r\n\r\n  export default firebase.firestore();","import firestore from \"../firestore\";\r\n\r\nconst products = [\r\n    {\r\n        name: \"Hexagon\",\r\n        price: 35,\r\n        type: \"shirt\",\r\n        variants: [\r\n            {\r\n                variant: \"Outrun\",\r\n                imgLink: \"https://firebasestorage.googleapis.com/v0/b/react-ecommerce-1e532.appspot.com/o/Hex.png?alt=media&token=4f0b1b4c-8b95-4a80-8e55-7156161f1db6\"\r\n            },\r\n            {\r\n                variant: \"Forge\",\r\n                imgLink: \"https://firebasestorage.googleapis.com/v0/b/react-ecommerce-1e532.appspot.com/o/Forge.png?alt=media&token=2d0d2526-c1db-4869-bbbf-6bf3cc6b758c\"\r\n\r\n            },\r\n            {\r\n                variant: \"Arcanum\",\r\n                imgLink: \"https://firebasestorage.googleapis.com/v0/b/react-ecommerce-1e532.appspot.com/o/Arcanum%20Forge.png?alt=media&token=d8ff802e-cce8-49c3-9b81-1dca09a6d97b\"\r\n\r\n            }\r\n            \r\n        ],\r\n    },\r\n    {\r\n        name: \"Polygon\",\r\n        price: 35,\r\n        type: \"shirt\",\r\n        variants: [\r\n            {\r\n                variant: \"Silver\",\r\n                imgLink: \"https://firebasestorage.googleapis.com/v0/b/react-ecommerce-1e532.appspot.com/o/Grey.png?alt=media&token=dbd860c1-c35e-44b8-b80e-7581bce4a145\"\r\n            },\r\n            {\r\n                variant: \"Gold\",\r\n                imgLink: \"https://firebasestorage.googleapis.com/v0/b/react-ecommerce-1e532.appspot.com/o/Gold.png?alt=media&token=e9a31563-c5d5-4e9e-91ed-8118d5185a14\"\r\n\r\n            },\r\n            {\r\n                variant: \"Neon\",\r\n                imgLink: \"https://firebasestorage.googleapis.com/v0/b/react-ecommerce-1e532.appspot.com/o/Neonscape.png?alt=media&token=9e432e6f-2186-40ea-bf13-b314b59c0ac8\"\r\n\r\n            }\r\n        ],\r\n    },\r\n    {\r\n        name: \"Glass\",\r\n        price: 35,\r\n        type: \"shirt\",\r\n        variants: [\r\n            {\r\n                variant: \"Red\",\r\n                imgLink: \"https://firebasestorage.googleapis.com/v0/b/react-ecommerce-1e532.appspot.com/o/Orange.png?alt=media&token=b1da5f3f-7645-43f2-b9b4-c950ad3c75e8\"\r\n\r\n            },\r\n            {\r\n                variant: \"Blue\",\r\n                imgLink: \"https://firebasestorage.googleapis.com/v0/b/react-ecommerce-1e532.appspot.com/o/Blue.png?alt=media&token=2d8a6c1c-d9bb-4084-a968-a115762789b4\"\r\n            }\r\n        ],\r\n    }\r\n];\r\n\r\nconst seedProducts = async () => {\r\n    const prod = firestore.collection(\"products\");\r\n    const data = await prod.get();\r\n    if (data.size !== 0) {\r\n        return;\r\n    }\r\n    const promises = products.map(async (product) => {\r\n        return await prod.add(product);\r\n    });\r\n    const resolvedReferences = Promise.all(promises);\r\n}\r\n\r\nexport const getProducts = async () => {\r\n    await seedProducts();\r\n    const col = firestore.collection(\"products\");\r\n    const queryData = await col.get();\r\n    const documents = queryData.docs;\r\n    return documents.map(doc => {\r\n        return ( {id: doc.id, ...doc.data()})\r\n    })\r\n}\r\n\r\nexport const getProduct = async (id) => {\r\n    const col = firestore.collection(\"products\");\r\n    const ref = col.doc(id);\r\n    const doc = await ref.get();\r\n\r\n    if (!doc.exists) {\r\n        return;\r\n    }\r\n    return {id: doc.id, ...doc.data()};\r\n}\r\n\r\nexport const deleteProduct = async (id) => {\r\n    const prod = firestore.collection(\"cart\").doc(id);\r\n    await prod.delete();\r\n}\r\n\r\nexport default products;","import VariantSelect from \"./VariantSelect\";\r\nexport default VariantSelect;","import { useEffect, useState } from \"react\";\r\n\r\nconst VariantSelect = ({ onChange, product, variant = product.variants[0] }) => {\r\n    const [newVariant, setNewVariant] = useState();\r\n\r\n    useEffect(()=>{\r\n        setNewVariant(variant);\r\n    }, [])\r\n   \r\n    useEffect(() => {\r\n        onChange(newVariant); \r\n    }, [newVariant]);\r\n\r\n    // console.log(variant);\r\n\r\n    const selectVariant = (selection) => {\r\n        setNewVariant(selection.target.value);\r\n        // console.log(variant);\r\n    };\r\n    // console.log(variant);\r\n    return (\r\n        <select onChange={selectVariant} value={newVariant}>\r\n        {product.variants.map((item) => (\r\n            <option value={item.variant}>{item.variant}</option>\r\n            ))}\r\n        </select>\r\n    )\r\n}\r\n\r\nexport default VariantSelect;","import Counter from \"./Counter\";\r\nexport default Counter;\r\n","import { useState, useEffect } from \"react\";\r\n\r\nconst Counter = ({ onChange, value = 1 }) => {\r\n    const [count, setCount] = useState(value);\r\n    \r\n    useEffect(() => {\r\n        onChange(count);\r\n    }, [count]);\r\n\r\n    const decrement = (e) => {\r\n        if (count <= 0) {\r\n            setCount(0);\r\n        } else\r\n        setCount(count - 1);\r\n    };\r\n\r\n    const increment = (e) => {\r\n        setCount(count + 1);\r\n    };\r\n    return (\r\n        <>\r\n            <button onClick={() => onChange(decrement)}>-</button>\r\n            {count}\r\n            <button onClick={() => onChange(increment)}>+</button>\r\n        </>\r\n    );\r\n};\r\n\r\nexport default Counter;\r\n","import firestore from \"../firestore\";\r\n\r\n// Create\r\nexport const createRecord = async (records, collection) => {\r\n    const prod = firestore.collection(collection);\r\n    const data = await prod.get();\r\n    if (data.size !== 0) {\r\n        return;\r\n    }\r\n    const promises = records.map(async (product) => {\r\n        return await prod.add(product);\r\n    });\r\n    const resolvedReferences = await Promise.all(promises);\r\n};\r\n\r\n\r\n// Read\r\nexport const getRecords = async (collection) => {\r\n    // await seedProducts();\r\n    const col = firestore.collection(collection);\r\n\r\n    const queryData = await col.get();\r\n\r\n    const documents = queryData.docs;\r\n\r\n    return documents.map(doc => {\r\n        return ( {id: doc.id, ...doc.data()} )\r\n    })\r\n};\r\n\r\nexport const getRecord = async (collection, id) => {\r\n    const col = firestore.collection(collection);\r\n    const ref = col.doc(id);\r\n    const doc = await ref.get();\r\n    if (!doc.exists) {\r\n        return;\r\n    }\r\n    return {id: doc.id, ...doc.data()};\r\n}\r\n\r\n// Update\r\nexport const updateCart = async (collection, id, record, ) => {\r\n    const ref = firestore.collection(collection).doc(id);\r\n    await ref.update({products: record});\r\n};\r\n\r\n// Delete\r\nexport const deleteRecord = async (id, collection) => {\r\n    const col = firestore.collection(collection).doc(id);\r\n    await col.delete();\r\n}","import ProductCard from \"./ProductCard\";\r\nexport default ProductCard;","import styles from \"./ProductCard.module.scss\";\r\nimport VariantSelect from \"../VariantSelect\";\r\nimport Counter from \"../Counter\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { updateCart, getRecord } from \"../../services/crud\";\r\n\r\nconst ProductCard = ({ product }) => {\r\n    const [cartId, setCartId] = useState(\"eOlYq5Ls5F0dQz7aURLA\")\r\n    const [cartArr, setCartArr] = useState([]);\r\n    const [productId, setProductId] = useState(product.id);\r\n    const [newQuantity, setNewQuantity] = useState(1);\r\n    const [newVariant, setNewVariant] = useState(product.variants[0].variant);\r\n    \r\n    const getCart = async () => {\r\n        const data = await getRecord(\"cart\", cartId);\r\n        setCartArr(data.products);\r\n    }\r\n\r\n    useEffect(() => {\r\n        getCart();\r\n    }, []);\r\n\r\n    const handleCountChange = (count) => {\r\n        setNewQuantity(count);\r\n    };\r\n\r\n    const handleVariantChange = (item) => {\r\n        setNewVariant(item);\r\n    }\r\n\r\n    const handleSubmit = () => {\r\n        const cartItem = {\r\n            productId: productId,\r\n            quantity: newQuantity,\r\n            variant: newVariant,            \r\n        };\r\n        const sameItemIndex = cartArr.findIndex((item, index) => (item.productId === product.id && item.variant === newVariant));\r\n        \r\n        if (newQuantity === 0) {} \r\n        else if (sameItemIndex === -1) {\r\n            cartArr.push(cartItem);\r\n            // console.log(cartItem);\r\n            updateCart(\"cart\", cartId, cartArr);\r\n            // getCart();\r\n\r\n        } else if (sameItemIndex >= 0) {\r\n\r\n            cartArr[sameItemIndex].quantity += newQuantity;\r\n            // console.log(cartItem);\r\n\r\n            updateCart(\"cart\", cartId, cartArr);\r\n            // getCart();\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className={styles.ProductCard}>\r\n            <div>                \r\n                <h2><Link to={`/products/${product.id}`}>{product.name}</Link></h2>\r\n                <p>Price: ${product.price}</p>\r\n                <div className={styles.Variants}>\r\n                    {product.variants.map(item => {\r\n                        return (\r\n                            <div className={styles.Variant}>\r\n                                <p>{item.variant}</p>\r\n                                <img src={item.imgLink} alt={item.variant} height=\"300\" />\r\n                            </div>\r\n                        );\r\n                    })}\r\n                </div>\r\n            </div>\r\n            <div>\r\n                {/* {console.log(product),\r\n                console.log(product.variants)} */}\r\n                <VariantSelect\r\n                    onChange={handleVariantChange}\r\n                    key={product.id}\r\n                    product={product}\r\n                    variant={newVariant}\r\n                />\r\n                <Counter onChange={handleCountChange} value={1}/>\r\n                <button onClick={handleSubmit}>Add to Cart</button>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ProductCard;","import Home from \"./Home\";\r\nexport default Home;","import { useState, useEffect } from \"react\";\r\n\r\nimport { getProducts } from \"../../services/products\";\r\nimport ProductCard from \"../../components/ProductCard\";\r\n\r\nimport styles from \"./Home.module.scss\"\r\n\r\nconst Home = () => {\r\n    const [products, setProducts] = useState([]);\r\n    useEffect(() => {   \r\n        const getData = async () => {\r\n            const data = await getProducts();\r\n            setProducts(data);    \r\n        }; \r\n        getData();\r\n        \r\n    }, []);\r\n\r\n    // const handleDelete = async (id) => {\r\n    //     await deleteProduct(id);\r\n    //     getData();\r\n    // }\r\n    // console.log(products);\r\n    return (\r\n        <div className={styles.Home}>\r\n            {products.map(product => (\r\n                <ProductCard\r\n                    key={product.id}\r\n                    product={product}       \r\n                />\r\n            ))}\r\n        </div> \r\n    );\r\n}\r\n\r\nexport default Home;","import Product from \"./Product\";\r\nexport default Product;","import { useEffect, useState } from \"react\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport { getProduct } from \"../../services/products\";\r\n\r\nimport styles from \"./Product.module.scss\";\r\nimport ProductCard from \"../../components/ProductCard\";\r\n\r\nconst Product = () => {\r\n    const { id } = useParams();\r\n    const [product, setProduct] = useState(undefined);\r\n\r\n    useEffect(() => {\r\n        const getData = async () => {\r\n            const data = await getProduct(id);\r\n            setProduct(data);\r\n            // console.log(product);\r\n            // console.log(data);\r\n        };\r\n        getData();\r\n        }, []);\r\n    return (\r\n        <>\r\n        {console.log(product)}\r\n            {product ? (\r\n                <div className={styles.Product}>\r\n                <ProductCard\r\n                    key={product.id}\r\n                    product={product}        \r\n                />\r\n                </div>            \r\n            ) : (\r\n                <p>\r\n                    Product with id ={\">\"} {id} does not exist\r\n                </p>\r\n            )\r\n            }\r\n        </>\r\n    );\r\n};\r\n\r\nexport default Product;","import Header from \"./Header\";\r\nexport default Header;","import { Link } from \"react-router-dom\";\r\n\r\nconst Header = () => {\r\n    return (\r\n        <Link to={`/cart`}>Go to Cart</Link>\r\n    )\r\n}\r\n\r\nexport default Header;","import CartCard from \"./CartCard\";\r\nexport default CartCard;","import styles from \"./CartCard.module.scss\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { updateCart, getRecord } from \"../../services/crud\";\r\n// import UpdateQuantity from \"../UpdateQuantity\";\r\nimport { useEffect, useState  } from \"react\";\r\nimport VariantSelect from \"../VariantSelect\";\r\nimport Counter from \"../Counter\";\r\n\r\nconst CartCard = ({ cartItem, imgLink, index, product, onChange }) => {\r\n    // useEffect(() =>{\r\n    // }, [ product, quantity, variant]);\r\n    // console.log(product);\r\n    // console.log(quantity);\r\n    // console.log(variant);\r\n    // console.log(imgLink);\r\n    const [cartId, setCartId] = useState(\"eOlYq5Ls5F0dQz7aURLA\")\r\n    const [newCartItem, setNewCartItem] = useState(cartItem);\r\n    // const [productId, setProductId] = useState(cartItem.id);\r\n    const [newQuantity, setNewQuantity] = useState(cartItem.quantity);\r\n    const [newVariant, setNewVariant] = useState(cartItem.variant);\r\n    const [cartArr, setCartArr] = useState([]);\r\n    // const getCart = async () => {\r\n    //     const data = await getRecord(\"cart\", cartId);\r\n    //     setCartArr(data.products);\r\n    // }\r\n\r\n\r\n    // const getCart = async () => {\r\n    //     const data = await getRecord(\"cart\", cartId);\r\n    //     setCartArr(data.products);\r\n    // }\r\n\r\n    const handleCountChange = (count) => {\r\n        setNewQuantity(count);\r\n    };\r\n\r\n    const handleVariantChange = (type) => {\r\n        setNewVariant(type);\r\n    }\r\n\r\n    // useEffect(() => {\r\n    //     onChange(cartArr); \r\n    // }, [cartArr]);\r\n\r\n    const getCart = async () => {\r\n        const data = await getRecord(\"cart\", cartId);\r\n        setCartArr(data.products);\r\n    }\r\n\r\n    const handleSubmit = () => {\r\n        \r\n        newCartItem.variant = newVariant;\r\n        newCartItem.quantity = newQuantity;\r\n        if (newQuantity === 0) {\r\n            getCart();     \r\n            cartArr.splice(index, 1);\r\n            updateCart(\"cart\", cartId, cartArr);\r\n        } else {\r\n            getCart();\r\n            cartArr.splice(index, 1, newCartItem);\r\n            updateCart(\"cart\", cartId, index, newVariant, newQuantity);\r\n            // updateRecords(\"cart\", cartId, index, newVariant, newQuantity);\r\n        }\r\n        // console.log(sameItemIndex);\r\n        // console.log(quantity);\r\n        // console.log(newQuantity);\r\n        // console.log(cartArr[sameItemIndex]);\r\n        // console.log(cartItem);\r\n        // getCart();\r\n    }\r\n\r\n    // const clearCart = () => {\r\n    //     updateRecords(\"cart\", cartId, []);\r\n    // }\r\n\r\n\r\n    return (\r\n        <div className={styles.CartCard}>\r\n            <div>                \r\n                <h2><Link to={`/products/${product.id}`}>{product.name} {cartItem.variant}</Link></h2>\r\n                <p>Price: ${product.price}</p>\r\n                <div className={styles.Variants}>\r\n                    <div className={styles.Variant}>\r\n                        <p>{cartItem.variant}</p>\r\n                        <p>{cartItem.quantity}</p>\r\n                        <img src={imgLink} alt=\"variant\" height=\"300\" />\r\n                    </div>    \r\n                </div>\r\n            </div>\r\n            <div>\r\n                <VariantSelect\r\n                onChange={handleVariantChange}\r\n                // key={product.id}\r\n                product={product}\r\n                variant={cartItem.variant}\r\n                />\r\n                <Counter\r\n                onChange={handleCountChange}\r\n                value={cartItem.quantity}           \r\n                />\r\n                <button onClick={handleSubmit}>Update Cart</button>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default CartCard;","import Cart from \"./Cart\";\r\nexport default Cart;","import styles from \"./Cart.module.scss\"\r\nimport { useState, useEffect } from \"react\";\r\nimport { getProducts } from \"../../services/products\";\r\nimport { updateRecords, getRecords, getRecord } from \"../../services/crud\";\r\nimport CartCard from \"../../components/CartCard\";\r\nimport VariantSelect from \"../../components/VariantSelect\";\r\n\r\n\r\n\r\nconst Cart = () => {\r\n    const [products, setProducts] = useState([]);\r\n    const [cartId, setCartId] = useState(\"eOlYq5Ls5F0dQz7aURLA\")\r\n    const [cartArr, setCartArr] = useState([]);\r\n\r\n    const getCart = async () => {\r\n        const data = await getRecord(\"cart\", cartId);\r\n        setCartArr(data.products);\r\n    }\r\n    const getData = async () => {\r\n        const data = await getProducts();\r\n        setProducts(data);\r\n        getCart();\r\n    };\r\n\r\n    useEffect(() => {\r\n        getData();\r\n    }, []);\r\n    \r\n    useEffect(() => {\r\n        console.log(\"cartArr changed\")\r\n    },[cartArr])\r\n\r\n    const itemIndex = (queryItem) => {\r\n        const indexFinder = products.findIndex((item, index) => item.id === queryItem);\r\n        return indexFinder;\r\n    };\r\n    \r\n    const variantIndex = (queryIndex, queryItem) => {\r\n        const variants = products[queryIndex].variants;\r\n        return variants.findIndex((item, index) => item.variant === queryItem);\r\n    }\r\n\r\n    const updateCart = () => {\r\n        // console.log(cartArr);\r\n        \r\n        // getCart();\r\n        // console.log(cartArr);\r\n    }\r\n\r\n    // const clearCart = () => {\r\n    //     updateRecords(\"cart\", cartId, []);\r\n    // }\r\n\r\n        \r\n    return (\r\n        <div className={styles.Cart}>\r\n            {\r\n            // clearCart(),\r\n            cartArr.map((product, index) => {\r\n                const productIndex = itemIndex(product.productId);\r\n                const varIndex = variantIndex(productIndex, product.variant);\r\n                // console.log(product.variant),\r\n                // console.log(productIndex),\r\n                // console.log(varIndex),\r\n\r\n                return (\r\n                    <>\r\n                    <CartCard\r\n                        onChange={updateCart}\r\n                        key={product.productId}\r\n                        cartItem={product}\r\n                        imgLink={products[productIndex].variants[varIndex].imgLink}\r\n                        index={index}\r\n                        product={products[productIndex]}\r\n                    />\r\n                </>\r\n                    )\r\n                }\r\n                )\r\n            }\r\n        </div> \r\n    )\r\n};\r\n\r\nexport default Cart;","import styles from './App.module.scss';\r\n\r\nimport Home from './containers/Home';\r\nimport { BrowserRouter as Router, Switch, Route, Link } from 'react-router-dom';\r\nimport Product from './containers/Product';\r\nimport Header from './containers/Header';\r\nimport Cart from './containers/Cart';\r\n\r\n\r\n\r\nconst App = () => {\r\n    return (\r\n        <>\r\n            <Router>\r\n                <Header />\r\n                <Switch>\r\n                    <Route exact path=\"/\">\r\n                        <Home />\r\n                    </Route>\r\n                    <Route path=\"/products/:id\">\r\n                        <Product />\r\n                    </Route>\r\n                    <Route path=\"/cart\">\r\n                        <Cart />\r\n                    </Route>\r\n                </Switch>\r\n            \r\n            </Router>\r\n        </>\r\n    )\r\n};\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}